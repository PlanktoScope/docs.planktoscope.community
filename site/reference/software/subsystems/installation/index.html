<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="An open and affordable imaging platform for citizen oceanography"><link href="https://docs.planktoscope.community/reference/software/subsystems/installation/" rel="canonical"><link href=../../interfaces/exported-metadata/ rel=prev><link href=../startup/ rel=next><link rel=icon href=../../../../images/logos/planktoscope_lavender.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.18"><title>Installation - PlanktoScope Documentation</title><link rel=stylesheet href=../../../../assets/stylesheets/main.66ac8b77.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><link rel="stylesheet" href="../../../../assets/external/fonts.googleapis.com/css.9f91bc67.css"><style>:root{--md-text-font:"Atkinson Hyperlegible";--md-code-font:"Oxygen Mono"}</style><link rel=stylesheet href=../../../../stylesheets/extra.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property=og:type content=website><meta property=og:title content="Installation - PlanktoScope Documentation"><meta property=og:description content="An open and affordable imaging platform for citizen oceanography"><meta property=og:image content=https://docs.planktoscope.community/assets/images/social/reference/software/subsystems/installation.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta content=https://docs.planktoscope.community/reference/software/subsystems/installation/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="Installation - PlanktoScope Documentation"><meta name=twitter:description content="An open and affordable imaging platform for citizen oceanography"><meta name=twitter:image content=https://docs.planktoscope.community/assets/images/social/reference/software/subsystems/installation.png><link href=../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#installation class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title="PlanktoScope Documentation" class="md-header__button md-logo" aria-label="PlanktoScope Documentation" data-md-component=logo> <img src=../../../../images/logos/planktoscope_white.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> PlanktoScope Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Installation </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href="https://github.com/PlanktoScope/PlanktoScope" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title="PlanktoScope Documentation" class="md-nav__button md-logo" aria-label="PlanktoScope Documentation" data-md-component=logo> <img src=../../../../images/logos/planktoscope_white.png alt=logo> </a> PlanktoScope Documentation </label> <div class=md-nav__source> <a href="https://github.com/PlanktoScope/PlanktoScope" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../../../setup/ class="md-nav__link "> <span class=md-ellipsis> Setup </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <div class="md-nav__link md-nav__container"> <a href=../../../../setup/hardware/ class="md-nav__link "> <span class=md-ellipsis> Hardware </span> </a> <label class="md-nav__link " for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Hardware </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_2> <div class="md-nav__link md-nav__container"> <a href=../../../../setup/hardware/v2.5/ class="md-nav__link "> <span class=md-ellipsis> v2.5 </span> </a> <label class="md-nav__link " for=__nav_2_2_2 id=__nav_2_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_2> <span class="md-nav__icon md-icon"></span> v2.5 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../setup/hardware/v2.5/kit/ class=md-nav__link> <span class=md-ellipsis> Kit Production </span> </a> </li> <li class=md-nav__item> <a href=../../../../setup/hardware/v2.5/assembly/ class=md-nav__link> <span class=md-ellipsis> Assembly </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_3> <div class="md-nav__link md-nav__container"> <a href=../../../../setup/hardware/v2.1/ class="md-nav__link "> <span class=md-ellipsis> v2.1 </span> </a> <label class="md-nav__link " for=__nav_2_2_3 id=__nav_2_2_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_3> <span class="md-nav__icon md-icon"></span> v2.1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../setup/hardware/v2.1/kit/ class=md-nav__link> <span class=md-ellipsis> Kit Production </span> </a> </li> <li class=md-nav__item> <a href=../../../../setup/hardware/v2.1/assembly/ class=md-nav__link> <span class=md-ellipsis> Assembly </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <div class="md-nav__link md-nav__container"> <a href=../../../../setup/software/ class="md-nav__link "> <span class=md-ellipsis> Software </span> </a> <label class="md-nav__link " for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Software </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../setup/software/standard-install/ class=md-nav__link> <span class=md-ellipsis> Standard Installation </span> </a> </li> <li class=md-nav__item> <a href=../../../../setup/software/nonstandard-install/ class=md-nav__link> <span class=md-ellipsis> Non-Standard Installation </span> </a> </li> <li class=md-nav__item> <a href=../../../../setup/software/config/ class=md-nav__link> <span class=md-ellipsis> Post-Installation Configuration </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../../../operation/ class="md-nav__link "> <span class=md-ellipsis> Operation </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Operation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../operation/user-interface/ class=md-nav__link> <span class=md-ellipsis> Graphical User Interface </span> </a> </li> <li class=md-nav__item> <a href=../../../../operation/maintenance/ class=md-nav__link> <span class=md-ellipsis> Maintenance </span> </a> </li> <li class=md-nav__item> <a href=../../../../operation/software-customization/ class=md-nav__link> <span class=md-ellipsis> Software Customization </span> </a> </li> <li class=md-nav__item> <a href=../../../../operation/software-upgrades/ class=md-nav__link> <span class=md-ellipsis> Software Reset & Upgrades </span> </a> </li> <li class=md-nav__item> <a href=../../../../operation/networking/ class=md-nav__link> <span class=md-ellipsis> Networking </span> </a> </li> <li class=md-nav__item> <a href=../../../../operation/clone-sd/ class=md-nav__link> <span class=md-ellipsis> SD Card Cloning </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../../../troubleshooting/ class="md-nav__link "> <span class=md-ellipsis> Troubleshooting </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../../../community/ class="md-nav__link "> <span class=md-ellipsis> Community </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Community </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> Contribute </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Contribute </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../community/contribute/github/ class=md-nav__link> <span class=md-ellipsis> Github </span> </a> </li> <li class=md-nav__item> <a href=../../../../community/contribute/hardware/ class=md-nav__link> <span class=md-ellipsis> Hardware </span> </a> </li> <li class=md-nav__item> <a href=../../../../community/contribute/software/ class=md-nav__link> <span class=md-ellipsis> Software </span> </a> </li> <li class=md-nav__item> <a href=../../../../community/contribute/documentation/ class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../community/code-of-conduct/ class=md-nav__link> <span class=md-ellipsis> Code of Conduct </span> </a> </li> <li class=md-nav__item> <a href=../../../../community/license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <div class="md-nav__link md-nav__container"> <a href=../../../ class="md-nav__link "> <span class=md-ellipsis> Technical Reference </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Technical Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> Hardware </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Hardware </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../hardware/product-specs/ class=md-nav__link> <span class=md-ellipsis> Product Specifications </span> </a> </li> <li class=md-nav__item> <a href=../../../hardware/hat/ class=md-nav__link> <span class=md-ellipsis> Planktoscope HAT </span> </a> </li> <li class=md-nav__item> <a href=../../../hardware/changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3 checked> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> Software </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=true> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> Software </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../product-specs/ class=md-nav__link> <span class=md-ellipsis> Product Specifications </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3_2> <label class=md-nav__link for=__nav_6_3_2 id=__nav_6_3_2_label tabindex=0> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3_2> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../architecture/os/ class=md-nav__link> <span class=md-ellipsis> Operating System </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3_3> <label class=md-nav__link for=__nav_6_3_3 id=__nav_6_3_3_label tabindex=0> <span class=md-ellipsis> Functionalities </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3_3> <span class="md-nav__icon md-icon"></span> Functionalities </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../functionalities/camera-settings/ class=md-nav__link> <span class=md-ellipsis> Camera Settings </span> </a> </li> <li class=md-nav__item> <a href=../../functionalities/sample-imaging/ class=md-nav__link> <span class=md-ellipsis> Sample Imaging </span> </a> </li> <li class=md-nav__item> <a href=../../functionalities/segmentation/ class=md-nav__link> <span class=md-ellipsis> Image Segmentation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3_4> <label class=md-nav__link for=__nav_6_3_4 id=__nav_6_3_4_label tabindex=0> <span class=md-ellipsis> Interfaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3_4> <span class="md-nav__icon md-icon"></span> Interfaces </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../interfaces/mqtt/ class=md-nav__link> <span class=md-ellipsis> MQTT API </span> </a> </li> <li class=md-nav__item> <a href=../../interfaces/exported-metadata/ class=md-nav__link> <span class=md-ellipsis> Exported Metadata </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3_5 checked> <label class=md-nav__link for=__nav_6_3_5 id=__nav_6_3_5_label tabindex=0> <span class=md-ellipsis> Subsystems </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_3_5_label aria-expanded=true> <label class=md-nav__title for=__nav_6_3_5> <span class="md-nav__icon md-icon"></span> Subsystems </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Installation </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Installation </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#installation-bootstrap-script class=md-nav__link> <span class=md-ellipsis> Installation bootstrap script </span> </a> <nav class=md-nav aria-label="Installation bootstrap script"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#script-parameters class=md-nav__link> <span class=md-ellipsis> Script parameters </span> </a> </li> <li class=md-nav__item> <a href=#recorded-versioning-information class=md-nav__link> <span class=md-ellipsis> Recorded versioning information </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#distro-setup-scripts class=md-nav__link> <span class=md-ellipsis> Distro setup scripts </span> </a> <nav class=md-nav aria-label="Distro setup scripts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#base-system-setup class=md-nav__link> <span class=md-ellipsis> Base system setup </span> </a> </li> <li class=md-nav__item> <a href=#planktoscope-application-environment-setup class=md-nav__link> <span class=md-ellipsis> PlanktoScope application environment setup </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../startup/ class=md-nav__link> <span class=md-ellipsis> Startup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../release-process/ class=md-nav__link> <span class=md-ellipsis> Release Process </span> </a> </li> <li class=md-nav__item> <a href=../../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../faq/ class=md-nav__link> <span class=md-ellipsis> Frequently Asked Questions </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#installation-bootstrap-script class=md-nav__link> <span class=md-ellipsis> Installation bootstrap script </span> </a> <nav class=md-nav aria-label="Installation bootstrap script"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#script-parameters class=md-nav__link> <span class=md-ellipsis> Script parameters </span> </a> </li> <li class=md-nav__item> <a href=#recorded-versioning-information class=md-nav__link> <span class=md-ellipsis> Recorded versioning information </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#distro-setup-scripts class=md-nav__link> <span class=md-ellipsis> Distro setup scripts </span> </a> <nav class=md-nav aria-label="Distro setup scripts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#base-system-setup class=md-nav__link> <span class=md-ellipsis> Base system setup </span> </a> </li> <li class=md-nav__item> <a href=#planktoscope-application-environment-setup class=md-nav__link> <span class=md-ellipsis> PlanktoScope application environment setup </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href="https://github.com/PlanktoScope/PlanktoScope/edit/master/documentation/docs/reference/software/subsystems/installation.md" title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <h1 id=installation>Installation<a class=headerlink href=#installation title="Permanent link">🔗</a></h1> <p>This document explains how the <a href=../../architecture/os/ >PlanktoScope OS</a>'s installation process works, as a companion to our <a href=../../../../setup/software/nonstandard-install/ >non-standard installation guide</a> which carries out the process explained below.</p> <p>The installation process is initiated by booting into an <a href=../../../../setup/software/nonstandard-install/#download-a-raspberry-pi-os-sd-card-image>appropriate</a> installation of the Raspberry Pi OS and then downloading and <a href=../../../../setup/software/nonstandard-install/#run-the-installation-script>running the <em>installation bootstrap script</em></a>, which in turn downloads and runs the appropriate <em>distro setup scripts</em> according to the installation parameters provided to the installation bootstrap script.</p> <h2 id=installation-bootstrap-script>Installation bootstrap script<a class=headerlink href=#installation-bootstrap-script title="Permanent link">🔗</a></h2> <p>The <a href="https://github.com/PlanktoScope/install.planktoscope.community/blob/edge/distro.sh">installation bootstrap script</a> is provided so that a one-line command can be executed to automatically perform the entire process of installing the PlanktoScope OS on top of the Raspberry Pi OS. <a href="https://github.com/PlanktoScope/install.planktoscope.community">The GitHub repository which contains that script</a> always publishes the latest version on its <code>stable</code> branch to <a href="https://install.planktoscope.community/distro.sh">install.planktoscope.community/distro.sh</a> via GitHub Pages; other versions can be downloaded from GitHub via the corresponding permalinks for those versions of the file (e.g. <a href="https://github.com/PlanktoScope/install.planktoscope.community/raw/v2023.9.0/distro.sh">https://github.com/PlanktoScope/install.planktoscope.community/raw/v2023.9.0/distro.sh</a> for the version from the v2023.9.0 tag in the repository). The installation bootstrap script performs the following steps:</p> <ol> <li> <p>The script loads some <a href=#script-parameters>parameters</a> (set by environment variables and/or corresponding command-line arguments) which set the behavior of the script.</p> </li> <li> <p>The script installs <code>git</code>, if it was not already installed (as is the case on the "Lite" image of the Raspberry Pi OS); if the <code>yes</code> parameter was not set and <code>git</code> was not already installed, the script will first ask the user to confirm that they wish to install <code>git</code> before the script continues. <code>git</code> is required to resolve version query parameters provided to the script, so that the script can determine how to download the requested version of the PlanktoScope OS's distro setup scripts.</p> </li> <li> <p>The script clones a minimal <a href="https://git-scm.com/docs/git-clone#Documentation/git-clone.txt---mirror">"mirror"</a> copy of the specified repository (set by the <code>repo</code> parameter) of distro setup scripts to a temporary directory (i.e. a directory created in <code>/tmp</code>). This "mirror" copy is used to:</p> <ul> <li> <p>Resolve the version query parameters (<code>version-query</code>, <code>query-type</code>, and - when <code>query-type</code> is <code>tag</code> - <code>tag-prefix</code>) into a specific commit hash for the repository.</p> </li> <li> <p>Determine a <a href="https://git-scm.com/docs/git-describe#_examples"><em>(pseudo-)version</em></a> string for the resolved commit based on the last release tag (whose name is prefixed with the <code>tag-prefix</code> parameter) ancestral to that commit.</p> </li> </ul> </li> <li> <p>The script clones a copy of the specified repository (set by the <code>repo</code> parameter) to a temporary directory and checks out the specific commit which was resolved by the previous step; if the <code>yes</code> parameter was not set, the script will first ask the user to confirm that they wish to download the resolved commit of the distro setup scripts before the script continues. Because the repository containing the distro setup scripts may have many large files (e.g. image files for documentation) which are unrelated to the distro setup scripts, this step only downloads files in the specific commit needed for the distro setup scripts.</p> </li> <li> <p>The script <a href=#recorded-versioning-information>records versioning information</a> for the downloaded installation scripts, saving that information in two YAML files in a particular directory; if that directory already exists and the <code>yes</code> parameter was not set, the script will first ask the user to confirm that they wish to delete and re-create that directory before the script continues. Installed programs can read these files in order to determine the installed version of the PlanktoScope OS.</p> </li> <li> <p>The script runs the specified script (set by the <code>setup-entrypoint</code> parameter) within the downloaded copy of the specified repository; if the <code>yes</code> parameter was not set, the script will first ask the user to confirm that they wish to run the downloaded distro scripts before the script continues.</p> </li> </ol> <h3 id=script-parameters>Script parameters<a class=headerlink href=#script-parameters title="Permanent link">🔗</a></h3> <table> <thead> <tr> <th>Command-Line Flags</th> <th>Environment Variable Name</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>-r</code><br><code>--repo</code></td> <td><code>REPO</code></td> <td>URL of the Git repository used for downloading the distro setup scripts. If a protocol is not specified, the URL will be assumed to use HTTPS.<br><strong>Default value</strong>: <code>github.com/PlanktoScope/PlanktoScope</code></td> </tr> <tr> <td><code>-v</code><br><code>--version-query</code></td> <td><code>VERSION_QUERY</code></td> <td>The version of the repository to download. The version query is interpreted differently depending on the query type set by the <code>query-type</code> parameter:<ul><li>Query type  <code>branch</code>: query should be a branch name (e.g. <code>software/beta</code>).</li><li>Query type <code>tag</code>: query should be a Git tag name, excluding the tag prefix specified by the <code>tag-prefix</code> parameter (e.g. <code>v2024.0.0</code> if <code>tag-prefix</code> is <code>software</code> and the Git tag is <code>software/v2024.0.0</code>).</li><li>Query type <code>hash</code>: query should be a commit hash and may be abbreviated (e.g. <code>2d6928e</code>).</li></ul><strong>Default value</strong>: <code>software/stable</code></td> </tr> <tr> <td><code>-t</code><br><code>--query-type</code></td> <td><code>QUERY_TYPE</code></td> <td>The type of version query set by the <code>version-query</code> parameter.<br><strong>Allowed values</strong>: <code>branch</code>, <code>tag</code>, <code>hash</code>.<br><strong>Default value</strong>: <code>branch</code></td> </tr> <tr> <td><code>-H</code><br><code>--hardware</code></td> <td><code>HARDWARE</code></td> <td>The hardware configuration, passed as the first argument to the entrypoint of the distro setup scripts. The distro setup scripts in the <code>github.com/PlanktoScope/PlanktoScope</code> repo currently expect either <code>none</code>, <code>segmenter-only</code>, <code>adafruithat</code>, <code>planktoscopehat</code>, or <code>fairscope-latest</code>.<br><strong>Default value</strong>: <code>planktoscopehat</code></td> </tr> <tr> <td><code>--tag-prefix</code></td> <td><code>TAG_PREFIX</code></td> <td>The prefix for Git version tags when resolving the version query (with query type <code>tag</code>) and when resolving tags (for pseudoversion strings). <br><strong>Default value</strong>: <code>software/</code></td> </tr> <tr> <td><code>--setup-entrypoint</code></td> <td><code>SETUP_ENTRYPOINT</code></td> <td>The entrypoint of the distro setup scripts, which will be executed in order to run the downloaded distro setup scripts. This should be a subdirectory path within the repository (set by the <code>repo</code> parameter) which will be downloaded at the specified commit (set by the <code>version-query</code> and <code>query-type</code> parameters and - when <code>query-type</code> is <code>tag</code> - by the <code>tag-prefix</code> parameter) to obtain the distro setup scripts.<br><strong>Default value</strong>: <code>software/distro/setup/setup.sh</code></td> </tr> <tr> <td><code>-y</code><br><code>-f</code><br><code>--yes</code><br><code>--force</code></td> <td><code>FORCE</code></td> <td>Whether to automatically confirm all user confirmation prompts:<ul><li><code>FORCE=1</code> (or including the command-line flag) automatically confirms all prompts.</li><li>Not setting <code>FORCE</code> (or not including the command-line flag) requires user input for confirmation on all prompts.</li></ul><strong>Default</strong>: User input required</td> </tr> <tr> <td><code>-V</code><br><code>--verbose</code></td> <td><code>VERBOSE</code></td> <td>Whether to display additional (verbose) output:<ul><li><code>VERBOSE=1</code> (or including the command-line flag) enables verbose output.</li><li>Not setting <code>VERBOSE</code> (or not including the command-line flag) disables verbose output.</li></ul><strong>Default</strong>: Don't display verbose output</td> </tr> <tr> <td><code>-h</code><br><code>--help</code></td> <td></td> <td>Whether to display a help message (which includes this parameter reference table and a list of example commands using this script) and quit without doing any work.</td> </tr> </tbody> </table> <p>Example combinations of command-line arguments using the above parameters:</p> <ul> <li> <p><code>-v software/stable -H planktoscopehat</code> or <code>-H planktoscopehat</code>: install the latest stable release of the standard PlanktoScope OS (i.e. from the <code>software/stable</code> branch) for a PlanktoScope with the PlanktoScope HAT.</p> </li> <li> <p><code>-v software/beta -H adafruithat</code>: install the latest beta pre-release or stable release of the standard PlanktoScope OS (i.e. from the <code>software/beta</code> branch) for a PlanktoScope with the Adafruit HAT.</p> </li> <li> <p><code>-v master -H planktoscopehat</code>: install the latest development version of the standard PlanktoScope OS (i.e. from the <code>master</code> branch) for a PlanktoScope with the PlanktoScope HAT.</p> </li> <li> <p><code>-t tag -v v2024.0.0-alpha.1 -H adafruithat</code>: install the v2024.0.0-alpha.1 pre-release of the standard PlanktoScope OS (i.e. from the <code>software/v2024.0.0-alpha.1</code> tag) for a PlanktoScope with the Adafruit HAT.</p> </li> <li> <p><code>-t hash -v 2d6928e -H planktoscopehat</code>: install <code>2d6928e</code> commit of the standard PlanktoScope OS for a PlanktoScope with the PlanktoScope HAT.</p> </li> <li> <p><code>-v master -r github.com/LaurentPV/PlanktoScope -H adafruithat</code>: install the latest development commit of <code>master</code> branch of the <code>github.com/LaurentPV/PlanktoScope</code> fork of the PlanktoScope OS for a PlanktoScope with the Adafruit HAT.</p> </li> </ul> <h3 id=recorded-versioning-information>Recorded versioning information<a class=headerlink href=#recorded-versioning-information title="Permanent link">🔗</a></h3> <p>Currently the installer script creates two YAML files, both in the <code>/usr/share/planktoscope</code> directory.</p> <p><code>/usr/share/planktoscope/installer-config.yml</code> records the values of the parameters with which the installer script was invoked:</p> <table> <thead> <tr> <th>YAML Field Name</th> <th>Corresponding Script Parameter</th> <th>Example Value</th> </tr> </thead> <tbody> <tr> <td><code>repo</code></td> <td><code>repo</code></td> <td><code>"github.com/PlanktoScope/PlanktoScope"</code></td> </tr> <tr> <td><code>version-query</code></td> <td><code>version-query</code></td> <td><code>"v2024.0.0-alpha.1"</code></td> </tr> <tr> <td><code>query-type</code></td> <td><code>query-type</code></td> <td><code>"tag"</code></td> </tr> <tr> <td><code>hardware</code></td> <td><code>hardware</code></td> <td><code>"adafruithat"</code></td> </tr> <tr> <td><code>tag-prefix</code></td> <td><code>tag-prefix</code></td> <td><code>"software/"</code></td> </tr> <tr> <td><code>setup-entrypoint</code></td> <td><code>setup-entrypoint</code></td> <td><code>"software/distro/setup/setup.sh"</code></td> </tr> </tbody> </table> <p><code>/usr/share/planktoscope/installer-versioning.yml</code> records information about the version of the PlanktoScope OS's distro setup scripts which was used to install the PlanktoScope OS:</p> <table> <thead> <tr> <th>Field Name</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>repo</code></td> <td>The path of the Git repository which provided the distro setup scripts, with any leading protocol string (e.g. <code>https://</code>) removed.<br><strong>Example Values</strong>: <ol><li><code>"github.com/PlanktoScope/PlanktoScope"</code></li><li><code>"github.com/PlanktoScope/PlanktoScope"</code></li></ol></td> </tr> <tr> <td><code>commit</code></td> <td>The full hash of the exact commit which provided the distro setup scripts.<br><strong>Example Values</strong>: <ol><li><code>"2d6928e596b28f0c4c268fecb588c85215b1027e"</code> (for commit <code>2d6928e</code>)</li><li><code>"4d8b882616a8374918730bc1c6d300edfd7a523a"</code> (for commit <code>4d8b882</code>)</li></ol></td> </tr> <tr> <td><code>tag</code></td> <td>The full name of the Git tag (whose name starts with the prefix set by the <code>tag-prefix</code> script parameter) at the exact commit which provided the distro setup scripts, if such a tag exists; otherwise, the empty string (<code>""</code>).<br><strong>Example Values</strong>: <ol><li><code>"software/v2024.0.0-alpha.1"</code> (so commit <code>2d6928e</code> has Git tag <code>software/v2024.0.0-alpha.1</code>)</li><li><code>""</code> (so commit <code>4d8b882</code> has no Git tag)</li></ol></td> </tr> <tr> <td><code>version</code></td> <td>A version string or pseudo-version string describing the exact commit which provided the distro setup scripts. If a Git tag (with a name starting with the prefix set by the <code>tag-prefix</code> script parameter) exists at that commit, this is a version string which just the name of that tag, but with the <code>tag-prefix</code> stripped from the name. Otherwise, this is a pseudo-version string with format <code>"{tag}-{distance}-g{commit}"</code>, where:<ul><li><code>{tag}</code> is the name of the most recent ancestral tag (with a name starting with the prefix set by the <code>tag-prefix</code> script parameter) reachable from the commit, but with the <code>tag-prefix</code> stripped from the name.<li><code>{distance}</code> distance (in number of commits) between the commit and the most recent ancestral tag.</li><li><code>{commit}</code> consists of the first seven characters of the hash of the commit.</li></ul><br><strong>Example Values</strong>: <ol><li><code>"v2024.0.0-alpha.1"</code> (so commit <code>2d6928e</code> has Git tag <code>software/v2024.0.0-alpha.1</code>)</li><li><code>"v2024.0.0-alpha.1-4-g4d8b882"</code> (so commit <code>4d8b882</code> is 4 commits above the commit with Git tag <code>software/v2024.0.0-alpha.1</code>, which was the last tag in the ancestry of the commit)</li></ol></td> </tr> </tbody> </table> <h2 id=distro-setup-scripts>Distro setup scripts<a class=headerlink href=#distro-setup-scripts title="Permanent link">🔗</a></h2> <p>Currently, the entrypoint of the distro setup scripts, at <a href="https://github.com/PlanktoScope/PlanktoScope/blob/master/software/distro/setup/setup.sh"><code>software/distro/setup/setup.sh</code></a>, takes exactly one command-line argument which must be one of the following values:</p> <ul> <li> <p><code>adafruithat</code>: this will cause the distro setup scripts to install a version of the PlanktoScope hardware controller and the PlanktoScope Node-RED dashboard specific to PlanktoScopes using the Adafruit HAT, and to set the default hardware configuration files accordingly.</p> </li> <li> <p><code>planktoscopehat</code>: this will cause the distro setup scripts to install a version of the PlanktoScope hardware controller and the PlanktoScope Node-RED dashboard specific to PlanktoScopes using the PlanktoScope HAT, and to set the default hardware configuration files accordingly.</p> </li> </ul> <p>Currently, the distro setup scripts must be run by a user named <code>pi</code>. The scripts should not be run with <code>sudo</code>!</p> <p>Currently, the distro setup scripts are split into two phases: setup of the base operating system, and setup of the PlanktoScope application environment. In the future, as we remove various setup steps from these scripts (and instead manage those steps using <a href=../../architecture/os/#package-management-with-forklift><code>forklift</code></a>), we may consolidate these two phases into a single phase.</p> <h3 id=base-system-setup>Base system setup<a class=headerlink href=#base-system-setup title="Permanent link">🔗</a></h3> <p>This phase performs steps which might (in theory) be useful for other projects which don't use the PlanktoScope hardware but would still benefit from many of the <a href=../../architecture/os/ >functionalities provided by the PlanktoScope OS</a>. This phase consists of the following steps:</p> <ul> <li> <p>Installation of base tools: Docker, Cockpit, and various command-line tools are installed.</p> </li> <li> <p>Installation of <code>forklift</code> and a Forklift pallet: a hard-coded version of <code>forklift</code> is downloaded to <code>/usr/bin/forklift</code> , a hard-coded version of a hard-coded pallet (namely, <a href="https://github.com/PlanktoScope/pallet-standard">github.com/PlanktoScope/pallet-standard</a>) is downloaded and prepared for deployment, and the <code>forklift-apply.service</code> systemd service is created and enabled. (Note: in the future, it will be possible to specify the pallet to be installed as a command-line argument.)</p> </li> <li> <p>Partial configuration of Raspberry Pi-specific hardware: the SPI and I2C hardware interfaces are enabled, and the serial port and serial port console are enabled (note: the serial port console will be disabled by the PlanktoScope application environment setup phase so that the serial port can be used for the PlanktoScope's GPS receiver instead), and legacy camera support is disabled.</p> </li> <li> <p>Configuration of the system locale: the system's language is changed to <code>en_US.UTF-8</code>, but the time and measurement formats are changed to <code>en_DK.UTF-8</code> so that the date format is <code>yyyy-mm-dd</code> and units are metric. The system timezone is set to UTC.</p> </li> <li> <p>Partial configuration of networking: various system services are installed and configured, namely <code>dhcpcd</code>, <code>dnsmasq</code>, <code>hostapd</code>, and <code>firewalld</code>. The <code>enable-interface-forwarding.service</code> and <code>autohotspot.service</code> systemd services are created and enabled. The Raspberry Pi's Wi-Fi country is set to the US.</p> </li> <li> <p>Cleanup: SSH keys are reset to be regenerated on the next boot, unnecessary APT files are removed, and the OS <a href="https://wiki.debian.org/MachineId">machine ID</a> is reset to be regenerated on the next boot.</p> </li> </ul> <h3 id=planktoscope-application-environment-setup>PlanktoScope application environment setup<a class=headerlink href=#planktoscope-application-environment-setup title="Permanent link">🔗</a></h3> <p>This phase performs steps specific to the PlanktoScope's hardware:</p> <ul> <li> <p>Remaining configuration of networking: a hard-coded version of <a href="https://github.com/PlanktoScope/machine-name"><code>machine-name</code></a> is downloaded to <code>/usr/bin/machine-name</code>, <code>avahi-utils</code> is installed using APT, and various systemd services are created and enabled to update the PlanktoScope OS's networking configurations based on a machine name which will be determined by <code>machine-name</code> from the Raspberry Pi's serial number at every boot. Additional systemd services are created and enabled so that the PlanktoScope will be accessible over some additional mDNS names (namely, <code>pkscope.local</code> and <code>planktoscope.local</code>).</p> </li> <li> <p>Setup of the PlanktoScope hardware controller: various Python tools (<code>pip</code>, <code>venv</code>, and <code>poetry</code>) are installed using APT, a hard-coded version of a hard-coded Git repository (namely <a href="https://github.com/PlanktoScope/device-backend">github.com/PlanktoScope/device-backend</a>) is cloned, and various dependencies (both system libraries and Python packages) of the hardware controller are installed. The <code>planktoscope-org.device-backend.controller-adafruithat.service</code> and <code>planktoscope-org.device-backend.controller-planktoscopehat.service</code> systemd services are created, and the appropriate one is enabled depending on which HAT the PlanktoScope OS is being installed for. The appropriate hardware configuration file will also be copied into the location expected by the hardware controller. (Note: once the PlanktoScope hardware controller is containerized and managed in Forklift, this step will be eliminated.)</p> </li> <li> <p>Setup of GPIO stepper initialization at boot: a systemd service is created to release the stepper motors at startup. (Note: this service currently doesn't work and will eventually be deleted or replaced.)</p> </li> <li> <p>Setup of the PlanktoScope Node-RED dashboard: Node-RED is installed, as well as a Python package required by the <code>adafruithat</code> version of the PlanktoScope Node-RED dashboard (Note: the dependency on that package will eventually be removed.). The appropriate version of the PlanktoScope Node-RED dashboard and will be copied to the location expected by Node-RED depending on which HAT the PlanktoScope OS is being installed for, along with the appropriate configuration file. Finally, <code>npm</code> packages required by the Node-RED dashboard are installed. (Note: once the Node-RED dashboard is containerized and managed in Forklift, this step will be eliminated.)</p> </li> <li> <p>Setup of hardware support for the PlanktoScope's real-time clock module: A kernel devicetree overlay is enabled. (Note: this currently enables support for the wrong hardware real-time clock chip, so it doesn't work yet.)</p> </li> <li> <p>Setup of hardware support for the PlanktoScope's GPS receiver: <code>gpsd</code> and <code>chrony</code> are installed and configured. (Note: currently the configurations may be incorrect.)</p> </li> <li> <p>Configuration of CPU overclocking: the CPU is overclocked so that the PlanktoScope segmenter will run more quickly. (Note: in the future, this will be removed.)</p> </li> <li> <p>Cleanup: unnecessary APT and <code>pip</code> files are removed.</p> </li> </ul> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">February 21, 2025</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright PlanktoScope project contributors </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> <div class=md-social> <a href="https://github.com/PlanktoScope" target="_blank" rel="noopener" title="github.com" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> <a href="https://planktoscope.slack.com" target="_blank" rel="noopener" title="planktoscope.slack.com" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.indexes", "toc.follow", "content.action.edit", "content.code.annotate", "content.code.copy"], "search": "../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../../assets/javascripts/bundle.3220b9d7.min.js></script> <script id=init-glightbox>document.querySelectorAll('.glightbox').forEach(function(element) {
    try {
        var img = element.querySelector('img');
        if (img && img.src) {
            element.setAttribute('href', img.src);
        } else {
            console.log('No img element with src attribute found');
        }
    } catch (error) {
        console.log('Error:', error);
    }
});
const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>